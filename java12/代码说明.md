# 代码说明

根据分层解耦,将该功能分为三大类: Controller  Service  Mapper; 	还有pojo包,定义User类和Result类; utils工具类, 定义生成JWT令牌

**附**:1. Result类让登录和注册有统一响应结果

2. 在数据库中建立表格,并在application.properties中添加数据库的坐标及密码等信息
3. 引入Mybatis,lombok,springframework等依赖时千万要注意是否存在**版本冲突**
4. 使用@Slf4j注解, 记录每一步操作的日志,养成好习惯

**Controller层**: 负责接收前端程序的请求(本例中用postman测试),  分为注册和登录两大控制器, 注册主要涉及到添加功能,声明insert方法;

登录功能中,使用getByUsernameAndPassword方法将传入的信息与数据库中的对比,并使用JWT令牌加密返回数据.  两者均有共同响应结果的格式

**Service层**: 负责具体的业务逻辑,本例中体现为将Controller传入的信息与数据库中的对比并返回结果

**Mapper层**: 数据持久层, 直接连接目标数据库,注解后添加sql语句来实现相关的CRUD功能, 注意 #{} 占位符的使用, 可一定程度上防范sql注入攻击, 增强安全性

控制台输出结果

<img src="C:\Users\冯\Desktop\焦糖\Task3结果1.png" style="zoom: 33%;" />

postman测试结果

![](C:\Users\冯\Desktop\焦糖\Task3结果2.png)